## 공통 개발 지침 (서비스 불문)

**한국어로 대답할 것**

### 1. 본질적 문제 해결 원칙

* **임시방편 금지**: 증상 완화 대신 근본 원인 분석 및 해결
* **데이터 무결성 최우선**: 수정 전후 다른 기능·데이터 영향 검토
* **안전한 설계·점진적 구현**: 리스크가 낮은 작은 단위로 구현·테스트 후 배포
* **지속 가능한 개선**: 재발 방지용 문서화 및 아키텍처 개선

### 2. 자동화 및 효율성 최우선

* **AI 자동화 우선 순위 기준**:

  1. 실행 빈도(높을수록 우선)
  2. 단위당 소요 시간(길수록 우선)
  3. 수동 오류 리스크
* **원클릭 완성**: 복잡한 워크플로우를 버튼 클릭 한 번으로 실행
* **성과 측정 가이드**: 초기 벤치마크 후, “기존 대비 50% 이상 시간 절약” 등 대략적 목표 설정; 세부 측정법은 별도 가이드로 분리

#### 2.1 CI/CD 파이프라인 자동화 (필수)

* **브랜치 전략**: GitFlow 또는 Trunk-based 중 선택, 역할·명명 규칙 정의
* **CI 체크리스트**:

  * PR/메인 푸시 시 Lint, 유닛 테스트, 정적 분석 자동 실행
  * 커버리지 리포팅 도구 연동
* **CD 체크리스트**:

  * Staging 배포 → 헬스체크 → Production 배포 자동화
  * 실패 시 자동 롤백 조건 및 알림
* **알림·모니터링**: Slack/이메일 연동, 배포 성공률·속도 대시보드
* **템플릿 관리**: YAML 예시는 외부 레포에 두고, 핵심 체크리스트만 문서화

### 3. 코드 품질 관리

* **주석 최소화**: 코드 자체 가독성 우선, 주석은 예외적 사용
* **일관된 스타일**: 코드 스타일 가이드 및 린터 규칙 준수
* **버전 관리**: 기능별 버전 버UMP & Git 태그 연결
* **배포 로그**: 배포 시점, 버전, 주요 변경사항 커밋 메시지에 기록

### 4. 안전한 변경 원칙

* **격리된 수정**: 연관 없는 모듈/컴포넌트 건드리지 않기
* **의존성 분석**: 참조 관계 검토 후 변경
* **점진적 검증**: 변경마다 작은 테스트 케이스로 커버
* **금지 사항**: 공용 인터페이스·전역 상태 임의 변경 금지

### 5. 보안 우선

* **입력 검증**: XSS·SQL 인젝션 방어
* **민감정보 보호**: 로그에 비밀번호·토큰 등 제외
* **취약점 스캔**: Dependabot 등 자동화 도구 활용

### 6. 성능 최적화

* **쿼리 최적화**: ORM의 select\_related/prefetch 활용
* **캐시 활용**: Redis 등으로 반복 조회 개선
* **중복 제약**: DB 레벨로 일관성 확보

### 7. 테스트 가이드

* **유닛 테스트**: 핵심 로직 최소 커버
* **통합 테스트**: 주요 시나리오 end-to-end 검증
* **회귀 테스트**: 수정 전후 비교
* **부하·보안 테스트**: 필수 포함

### 8. 배포 및 운영 원칙

* **앱 스토어 배포 특성 고려**: 앱 스토어(Google Play Store, Apple App Store) 검수 과정을 이해하고 반영
* **점진적 배포(Phased Rollouts)**: 안정성 확보를 위해 일부 사용자에게 먼저 배포 후 점진적으로 확대
* **롤백의 한계 및 대안**: 앱 스토어 특성상 강제 롤백이 어려우므로, 문제 발생 시 신속한 수정 버전 배포를 롤백의 대안으로 활용
* **문서화 우선**: 환경변수·절차·에러 대응 명시

### 9. 마이그레이션 관리

* **로컬 데이터베이스 스키마 변경**: 앱 내 로컬 데이터베이스(SQLite, Realm, CoreData 등)의 스키마 변경은 앱 코드 내에서 마이그레이션 로직으로 처리
* **데이터 손실 방지**: 스키마 변경 시 기존 사용자 데이터의 손실을 방지하는 마이그레이션 전략 수립
* **버전 관리**: 마이그레이션 스크립트 또는 로직은 반드시 버전 관리 시스템에 포함

### 10. 인시던트 대응 & 복구 프로세스

#### 필수 최소 요건

* **모니터링·알림 체계**: 주요 서비스 상태 실시간 감시
* **온콜(On-call) 운영**: 담당자·연락망·에스컬레이션 정의
* **초기 대응 절차**: 탐지 → 통보 → 임시 차단
* **백업·복구 스케줄**: 정기 백업, 복구 목표(RTO/RPO) 설정

#### 선택적 고도화

* **플레이북**: 장애 유형별 세부 절차 문서화
* **분산 트레이싱**: 요청 흐름 가시화
* **DR 테스트**: 정기 복구 연습

---

*이 문서는 어떤 서비스 개발에도 바로 적용 가능한 핵심 가이드라인입니다.*
